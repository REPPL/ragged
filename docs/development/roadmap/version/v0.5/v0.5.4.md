# v0.5.4: Demo UI - Gradio Web Interface

**Focus:** MVP web interface for stakeholder demonstrations

**Hours:** 24-32 hours

**Dependencies:** v0.5.0 (ColPali + Dual Storage), v0.5.2 (Vision Retrieval), v0.5.3 (CLI)

**Status:** Planned

---

## Overview

Version 0.5.4 creates a Gradio-based web application for demonstrating multi-modal RAG capabilities to stakeholders. This is a proof-of-concept demo UI, not production-quality (production Svelte UI planned for v0.6.1).

**What This Version Delivers:**
- Gradio web application with document upload
- Multi-modal query interface (text, image, hybrid)
- GPU monitoring dashboard
- Results display with metadata
- Auto-generated REST API endpoints

**Why Gradio (Not Production UI):**
- Fast to build (24-32h vs 70-100h for Svelte)
- Python-only (no JavaScript build complexity)
- Auto-generates API for UI-backend communication
- Perfect for demos and early feedback
- **Trade-off:** Limited customization, less polished UX

**Production UI:** State-of-the-art Svelte/SvelteKit interface deferred to v0.6.1 after features stabilize.

---

## Feature: VISION-006 Gradio Web Application (24-32 hours)

### Application Structure

```
RaggedWebUI (Gradio Blocks)
├── Upload Tab
│   ├── PDF file upload
│   ├── Vision toggle (enable/disable)
│   ├── Device selection
│   └── Ingestion progress
│
├── Query Tab
│   ├── Text query input
│   ├── Image query upload
│   ├── Query mode selector (text/image/hybrid)
│   ├── Weight sliders (text/vision)
│   ├── Visual boost checkboxes
│   └── Results display
│
├── GPU Monitor Tab
│   ├── Device information
│   ├── Memory usage chart
│   ├── Real-time statistics
│   └── Benchmark results
│
└── Storage Tab
    ├── Collection statistics
    ├── Migration interface
    └── Schema information
```

---

## Implementation Plan

### Phase 1: Core UI Components (10-14 hours)

**Session 1.1: Upload Interface (4-6h)**
- PDF upload component
- Vision embedding toggle
- Device selector
- Progress bar
- Status messages

**Session 1.2: Query Interface (6-8h)**
- Text input field
- Image upload component
- Query mode tabs (text/image/hybrid)
- Weight sliders
- Boost checkboxes
- Results table with metadata

**Deliverables:**
- `src/ui/gradio_app.py` (~400 lines)
- Upload and query functionality

**Time:** 10-14 hours

---

### Phase 2: Monitoring & Management (8-10 hours)

**Session 2.1: GPU Monitoring (4-5h)**
- Device list component
- Memory usage plot (real-time)
- Statistics table
- Benchmark runner

**Session 2.2: Storage Management (4-5h)**
- Collection info display
- Migration wizard
- Schema version indicator
- Vacuum button

**Deliverables:**
- GPU monitoring dashboard
- Storage management interface

**Time:** 8-10 hours

---

### Phase 3: Integration & Deployment (6-8 hours)

**Session 3.1: API Integration (3-4h)**
- Connect UI to backend classes
- Error handling
- Loading states
- Success/failure messages

**Session 3.2: Deployment Configuration (3-4h)**
- Launch script
- Configuration file
- Environment variables
- Docker support (optional)

**Deliverables:**
- `src/ui/__main__.py` (launch script)
- `docker/gradio/Dockerfile` (optional)
- Deployment documentation

**Time:** 6-8 hours

---

## Implementation Checklist

- [ ] **Phase 1** (10-14h): Core UI
  - [ ] Upload interface
  - [ ] Query interface
  - [ ] Results display

- [ ] **Phase 2** (8-10h): Monitoring
  - [ ] GPU monitoring dashboard
  - [ ] Storage management

- [ ] **Phase 3** (6-8h): Integration
  - [ ] Backend integration
  - [ ] Deployment setup

---

## Success Criteria

### Functional Requirements

- [ ] Document upload works (PDF files)
- [ ] Vision embedding toggle functional
- [ ] Text/image/hybrid queries all work
- [ ] Results display metadata correctly
- [ ] GPU monitoring shows real-time stats
- [ ] Storage migration wizard functional

### Quality Standards

- [ ] UI loads in <3 seconds
- [ ] Queries respond in <1 second (excluding actual processing)
- [ ] Error messages clear and helpful
- [ ] Help text and tooltips present
- [ ] Mobile-friendly layout (basic)

### Performance

- [ ] Handles 10+ concurrent users
- [ ] File uploads <100MB work smoothly
- [ ] Real-time charts update at 1Hz
- [ ] No memory leaks (tested 1 hour runtime)

---

## Files Created

**New Files (~600 lines):**
- `src/ui/gradio_app.py` (~400 lines) - Main Gradio application
- `src/ui/__main__.py` (~50 lines) - Launch script
- `src/ui/components.py` (~150 lines) - Reusable UI components

---

## Dependencies

**From Previous Versions:**
- v0.5.0-v0.5.3: All vision features

**New Dependency:**
- gradio >= 4.0.0 (web UI framework)

---

## Known Limitations

**Gradio Limitations (By Design):**
- Limited UI customization (fixed Gradio theme)
- No advanced animations or transitions
- Basic responsive design only
- Cannot match modern web app polish

**These Are Acceptable:** This is a demo/MVP UI. Production Svelte UI (v0.6.1) will address all limitations.

---

## Launch Instructions

```bash
# Install dependencies
pip install ragged[ui]

# Launch web interface
ragged ui

# Custom port
ragged ui --port 8080

# Enable sharing (public URL)
ragged ui --share
```

---

## Related Documentation

**Feature Implementation:**
- [VISION-006: Web UI](./features/VISION-006-web-ui.md)

**Context:**
- [v0.5.x Overview](./README.md)
- [v0.6.1: Production Svelte UI](../v0.6/v0.6.1.md) - Future state-of-the-art UI

---

**Status:** Planned - Demo UI for v0.5.x, production UI in v0.6.1
