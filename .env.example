# ragged Environment Configuration
# Copy this file to .env and customise for your local environment
# DO NOT commit .env to version control (it's in .gitignore)

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# Docker Configuration (for docker-compose.yml)
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Ollama API endpoint (running on host machine)
OLLAMA_URL=http://host.docker.internal:11434

# ChromaDB endpoint (internal Docker network)
CHROMA_URL=http://chromadb:8001

# Environment: development, staging, production
ENVIRONMENT=development

# Python unbuffered output (useful for Docker logs)
PYTHONUNBUFFERED=1

# ChromaDB persistent storage
IS_PERSISTENT=TRUE

# Disable telemetry for privacy
ANONYMIZED_TELEMETRY=FALSE

# Port Mappings (host:container)
RAGGED_PORT=8000
RAGGED_UI_PORT=7860
CHROMA_PORT=8001

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# ragged Application Configuration (RAGGED_ prefix)
# These override default settings in src/config/settings.py
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Environment
# Options: development, production, testing
# RAGGED_ENVIRONMENT=development

# Service URLs (for native/non-Docker usage)
# RAGGED_OLLAMA_URL=http://localhost:11434
# RAGGED_CHROMA_URL=http://localhost:8001

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# Embedding Model Configuration
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Embedding backend: sentence-transformers or ollama
# RAGGED_EMBEDDING_MODEL=sentence-transformers

# Model name (auto-detected if not set)
# For sentence-transformers: all-MiniLM-L6-v2, all-mpnet-base-v2
# For ollama: nomic-embed-text
# RAGGED_EMBEDDING_MODEL_NAME=all-MiniLM-L6-v2

# Embedding dimensions (auto-detected if not set)
# all-MiniLM-L6-v2: 384, all-mpnet-base-v2: 768, nomic-embed-text: 768
# RAGGED_EMBEDDING_DIMENSIONS=384

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# Chunking Configuration
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Chunk size in tokens (must be > 0)
# RAGGED_CHUNK_SIZE=500

# Overlap between chunks in tokens (must be < chunk_size)
# RAGGED_CHUNK_OVERLAP=100

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# Retrieval Configuration
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Number of chunks to retrieve per query (must be > 0)
# RAGGED_RETRIEVAL_K=5

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# LLM Configuration
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Ollama model for generation
# Common options: llama3.2:latest, llama3.1:8b, mistral:latest, qwen2.5:7b
# RAGGED_LLM_MODEL=llama3.2:latest

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# Storage Configuration
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Data directory for storing embeddings, indexes, and logs
# Default: ~/.ragged
# RAGGED_DATA_DIR=/path/to/custom/data/dir

# Maximum file size in megabytes (must be > 0)
# RAGGED_MAX_FILE_SIZE_MB=100

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# Logging Configuration
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
# RAGGED_LOG_LEVEL=INFO

# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
# Notes
# ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

# - All RAGGED_ prefixed variables are optional and have sensible defaults
# - User config at ~/.ragged/config.yml takes precedence over environment variables
# - Environment variables take precedence over defaults in settings.py
# - Use .env.local for machine-specific overrides (also gitignored)
# - Docker Compose automatically loads .env from the project root
# - For non-Docker usage, use RAGGED_OLLAMA_URL and RAGGED_CHROMA_URL
